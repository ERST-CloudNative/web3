


```
[root@hy test-network]# ./network.sh up createChannel -ca -s couchdb
Using docker and docker-compose
Creating channel 'mychannel'.
If network is not up, starting nodes with CLI timeout of '5' tries and CLI delay of '3' seconds and using database 'couchdb with crypto from 'Certificate Authorities'
Bringing up network
LOCAL_VERSION=v2.5.0
DOCKER_IMAGE_VERSION=v2.5.4
Local fabric binaries and docker images are out of  sync. This may cause problems.
CA_LOCAL_VERSION=v1.5.7
CA_DOCKER_IMAGE_VERSION=v1.5.7
Generating certificates using Fabric CA
[+] Running 4/4
 ✔ Network fabric_test   Created                                                                                                                   0.3s
 ✔ Container ca_org2     Started                                                                                                                   0.0s
 ✔ Container ca_orderer  Started                                                                                                                   0.0s
 ✔ Container ca_org1     Started                                                                                                                   0.0s
Creating Org1 Identities
Enrolling the CA admin
+ fabric-ca-client enroll -u https://admin:adminpw@localhost:7054 --caname ca-org1 --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org1/ca-cert.pem
2023/10/25 10:34:50 [INFO] Created a default configuration file at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2023/10/25 10:34:50 [INFO] TLS Enabled
2023/10/25 10:34:50 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:50 [INFO] encoded CSR
2023/10/25 10:34:51 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/msp/signcerts/cert.pem
2023/10/25 10:34:51 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2023/10/25 10:34:51 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/msp/IssuerPublicKey
2023/10/25 10:34:51 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/msp/IssuerRevocationPublicKey
Registering peer0
+ fabric-ca-client register --caname ca-org1 --id.name peer0 --id.secret peer0pw --id.type peer --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org1/ca-cert.pem
2023/10/25 10:34:51 [INFO] Configuration file location: /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2023/10/25 10:34:51 [INFO] TLS Enabled
2023/10/25 10:34:51 [INFO] TLS Enabled
Password: peer0pw
Registering user
+ fabric-ca-client register --caname ca-org1 --id.name user1 --id.secret user1pw --id.type client --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org1/ca-cert.pem
2023/10/25 10:34:51 [INFO] Configuration file location: /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2023/10/25 10:34:51 [INFO] TLS Enabled
2023/10/25 10:34:51 [INFO] TLS Enabled
Password: user1pw
Registering the org admin
+ fabric-ca-client register --caname ca-org1 --id.name org1admin --id.secret org1adminpw --id.type admin --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org1/ca-cert.pem
2023/10/25 10:34:51 [INFO] Configuration file location: /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2023/10/25 10:34:51 [INFO] TLS Enabled
2023/10/25 10:34:51 [INFO] TLS Enabled
Password: org1adminpw
Generating the peer0 msp
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:7054 --caname ca-org1 -M /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org1/ca-cert.pem
2023/10/25 10:34:51 [INFO] TLS Enabled
2023/10/25 10:34:51 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:51 [INFO] encoded CSR
2023/10/25 10:34:51 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/signcerts/cert.pem
2023/10/25 10:34:51 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2023/10/25 10:34:51 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/IssuerPublicKey
2023/10/25 10:34:51 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/IssuerRevocationPublicKey
Generating the peer0-tls certificates, use --csr.hosts to specify Subject Alternative Names
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:7054 --caname ca-org1 -M /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls --enrollment.profile tls --csr.hosts peer0.org1.example.com --csr.hosts localhost --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org1/ca-cert.pem
2023/10/25 10:34:51 [INFO] TLS Enabled
2023/10/25 10:34:51 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:51 [INFO] encoded CSR
2023/10/25 10:34:51 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/signcerts/cert.pem
2023/10/25 10:34:51 [INFO] Stored TLS root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/tlscacerts/tls-localhost-7054-ca-org1.pem
2023/10/25 10:34:51 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/IssuerPublicKey
2023/10/25 10:34:51 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/IssuerRevocationPublicKey
Generating the user msp
+ fabric-ca-client enroll -u https://user1:user1pw@localhost:7054 --caname ca-org1 -M /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org1/ca-cert.pem
2023/10/25 10:34:51 [INFO] TLS Enabled
2023/10/25 10:34:51 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:51 [INFO] encoded CSR
2023/10/25 10:34:52 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/signcerts/cert.pem
2023/10/25 10:34:52 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2023/10/25 10:34:52 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/IssuerPublicKey
2023/10/25 10:34:52 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/IssuerRevocationPublicKey
Generating the org admin msp
+ fabric-ca-client enroll -u https://org1admin:org1adminpw@localhost:7054 --caname ca-org1 -M /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org1/ca-cert.pem
2023/10/25 10:34:52 [INFO] TLS Enabled
2023/10/25 10:34:52 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:52 [INFO] encoded CSR
2023/10/25 10:34:52 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/signcerts/cert.pem
2023/10/25 10:34:52 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2023/10/25 10:34:52 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/IssuerPublicKey
2023/10/25 10:34:52 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/IssuerRevocationPublicKey
Creating Org2 Identities
Enrolling the CA admin
+ fabric-ca-client enroll -u https://admin:adminpw@localhost:8054 --caname ca-org2 --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org2/ca-cert.pem
2023/10/25 10:34:52 [INFO] Created a default configuration file at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2023/10/25 10:34:52 [INFO] TLS Enabled
2023/10/25 10:34:52 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:52 [INFO] encoded CSR
2023/10/25 10:34:52 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/msp/signcerts/cert.pem
2023/10/25 10:34:52 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2023/10/25 10:34:52 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/msp/IssuerPublicKey
2023/10/25 10:34:52 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/msp/IssuerRevocationPublicKey
Registering peer0
+ fabric-ca-client register --caname ca-org2 --id.name peer0 --id.secret peer0pw --id.type peer --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org2/ca-cert.pem
2023/10/25 10:34:52 [INFO] Configuration file location: /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2023/10/25 10:34:52 [INFO] TLS Enabled
2023/10/25 10:34:52 [INFO] TLS Enabled
Password: peer0pw
Registering user
+ fabric-ca-client register --caname ca-org2 --id.name user1 --id.secret user1pw --id.type client --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org2/ca-cert.pem
2023/10/25 10:34:52 [INFO] Configuration file location: /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2023/10/25 10:34:52 [INFO] TLS Enabled
2023/10/25 10:34:52 [INFO] TLS Enabled
Password: user1pw
Registering the org admin
+ fabric-ca-client register --caname ca-org2 --id.name org2admin --id.secret org2adminpw --id.type admin --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org2/ca-cert.pem
2023/10/25 10:34:52 [INFO] Configuration file location: /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2023/10/25 10:34:52 [INFO] TLS Enabled
2023/10/25 10:34:52 [INFO] TLS Enabled
Password: org2adminpw
Generating the peer0 msp
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:8054 --caname ca-org2 -M /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org2/ca-cert.pem
2023/10/25 10:34:52 [INFO] TLS Enabled
2023/10/25 10:34:52 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:52 [INFO] encoded CSR
2023/10/25 10:34:53 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/signcerts/cert.pem
2023/10/25 10:34:53 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2023/10/25 10:34:53 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/IssuerPublicKey
2023/10/25 10:34:53 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/IssuerRevocationPublicKey
Generating the peer0-tls certificates, use --csr.hosts to specify Subject Alternative Names
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:8054 --caname ca-org2 -M /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls --enrollment.profile tls --csr.hosts peer0.org2.example.com --csr.hosts localhost --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org2/ca-cert.pem
2023/10/25 10:34:53 [INFO] TLS Enabled
2023/10/25 10:34:53 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:53 [INFO] encoded CSR
2023/10/25 10:34:53 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/signcerts/cert.pem
2023/10/25 10:34:53 [INFO] Stored TLS root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/tlscacerts/tls-localhost-8054-ca-org2.pem
2023/10/25 10:34:53 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/IssuerPublicKey
2023/10/25 10:34:53 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/IssuerRevocationPublicKey
Generating the user msp
+ fabric-ca-client enroll -u https://user1:user1pw@localhost:8054 --caname ca-org2 -M /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org2/ca-cert.pem
2023/10/25 10:34:53 [INFO] TLS Enabled
2023/10/25 10:34:53 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:53 [INFO] encoded CSR
2023/10/25 10:34:53 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/signcerts/cert.pem
2023/10/25 10:34:53 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2023/10/25 10:34:53 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/IssuerPublicKey
2023/10/25 10:34:53 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/IssuerRevocationPublicKey
Generating the org admin msp
+ fabric-ca-client enroll -u https://org2admin:org2adminpw@localhost:8054 --caname ca-org2 -M /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/org2/ca-cert.pem
2023/10/25 10:34:53 [INFO] TLS Enabled
2023/10/25 10:34:53 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:53 [INFO] encoded CSR
2023/10/25 10:34:53 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/signcerts/cert.pem
2023/10/25 10:34:53 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2023/10/25 10:34:53 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/IssuerPublicKey
2023/10/25 10:34:53 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/IssuerRevocationPublicKey
Creating Orderer Org Identities
Enrolling the CA admin
+ fabric-ca-client enroll -u https://admin:adminpw@localhost:9054 --caname ca-orderer --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/ca-cert.pem
2023/10/25 10:34:53 [INFO] Created a default configuration file at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/fabric-ca-client-config.yaml
2023/10/25 10:34:53 [INFO] TLS Enabled
2023/10/25 10:34:53 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:53 [INFO] encoded CSR
2023/10/25 10:34:53 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/msp/signcerts/cert.pem
2023/10/25 10:34:53 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/msp/cacerts/localhost-9054-ca-orderer.pem
2023/10/25 10:34:53 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/msp/IssuerPublicKey
2023/10/25 10:34:53 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/msp/IssuerRevocationPublicKey
Registering orderer
+ fabric-ca-client register --caname ca-orderer --id.name orderer --id.secret ordererpw --id.type orderer --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/ca-cert.pem
2023/10/25 10:34:53 [INFO] Configuration file location: /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/fabric-ca-client-config.yaml
2023/10/25 10:34:53 [INFO] TLS Enabled
2023/10/25 10:34:53 [INFO] TLS Enabled
Password: ordererpw
Registering the orderer admin
+ fabric-ca-client register --caname ca-orderer --id.name ordererAdmin --id.secret ordererAdminpw --id.type admin --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/ca-cert.pem
2023/10/25 10:34:53 [INFO] Configuration file location: /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/fabric-ca-client-config.yaml
2023/10/25 10:34:53 [INFO] TLS Enabled
2023/10/25 10:34:53 [INFO] TLS Enabled
Password: ordererAdminpw
Generating the orderer msp
+ fabric-ca-client enroll -u https://orderer:ordererpw@localhost:9054 --caname ca-orderer -M /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/ca-cert.pem
2023/10/25 10:34:54 [INFO] TLS Enabled
2023/10/25 10:34:54 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:54 [INFO] encoded CSR
2023/10/25 10:34:54 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/signcerts/cert.pem
2023/10/25 10:34:54 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/cacerts/localhost-9054-ca-orderer.pem
2023/10/25 10:34:54 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/IssuerPublicKey
2023/10/25 10:34:54 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/IssuerRevocationPublicKey
Generating the orderer-tls certificates, use --csr.hosts to specify Subject Alternative Names
+ fabric-ca-client enroll -u https://orderer:ordererpw@localhost:9054 --caname ca-orderer -M /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls --enrollment.profile tls --csr.hosts orderer.example.com --csr.hosts localhost --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/ca-cert.pem
2023/10/25 10:34:54 [INFO] TLS Enabled
2023/10/25 10:34:54 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:54 [INFO] encoded CSR
2023/10/25 10:34:54 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/signcerts/cert.pem
2023/10/25 10:34:54 [INFO] Stored TLS root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/tlscacerts/tls-localhost-9054-ca-orderer.pem
2023/10/25 10:34:54 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/IssuerPublicKey
2023/10/25 10:34:54 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/IssuerRevocationPublicKey
Generating the admin msp
+ fabric-ca-client enroll -u https://ordererAdmin:ordererAdminpw@localhost:9054 --caname ca-orderer -M /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp --tls.certfiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/ca-cert.pem
2023/10/25 10:34:54 [INFO] TLS Enabled
2023/10/25 10:34:54 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:34:54 [INFO] encoded CSR
2023/10/25 10:34:54 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/signcerts/cert.pem
2023/10/25 10:34:54 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/cacerts/localhost-9054-ca-orderer.pem
2023/10/25 10:34:54 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/IssuerPublicKey
2023/10/25 10:34:54 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/IssuerRevocationPublicKey
Generating CCP files for Org1 and Org2
WARN[0000] Found orphan containers ([ca_org1 ca_orderer ca_org2]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up.
[+] Running 9/9
 ✔ Volume "compose_orderer.example.com"     Created                                                                                                0.0s
 ✔ Volume "compose_peer0.org1.example.com"  Created                                                                                                0.0s
 ✔ Volume "compose_peer0.org2.example.com"  Created                                                                                                0.0s
 ✔ Container orderer.example.com            Started                                                                                                0.0s
 ✔ Container couchdb1                       Started                                                                                                0.0s
 ✔ Container couchdb0                       Started                                                                                                0.0s
 ✔ Container peer0.org1.example.com         Started                                                                                                0.0s
 ✔ Container peer0.org2.example.com         Started                                                                                                0.0s
 ✔ Container cli                            Started                                                                                                0.0s
CONTAINER ID   IMAGE                               COMMAND                  CREATED         STATUS                  PORTS                                                                                                                             NAMES
12c3c059d433   hyperledger/fabric-tools:latest     "/bin/bash"              3 seconds ago   Up Less than a second                                                                                                                                     cli
fab571f2021f   hyperledger/fabric-peer:latest      "peer node start"        3 seconds ago   Up Less than a second   0.0.0.0:7051->7051/tcp, :::7051->7051/tcp, 0.0.0.0:9444->9444/tcp, :::9444->9444/tcp                                              peer0.org1.example.com
81aa94e417ca   hyperledger/fabric-peer:latest      "peer node start"        3 seconds ago   Up Less than a second   0.0.0.0:9051->9051/tcp, :::9051->9051/tcp, 7051/tcp, 0.0.0.0:9445->9445/tcp, :::9445->9445/tcp                                    peer0.org2.example.com
5f4a7862c98f   couchdb:3.3.2                       "tini -- /docker-ent…"   3 seconds ago   Up 1 second             4369/tcp, 9100/tcp, 0.0.0.0:5984->5984/tcp, :::5984->5984/tcp                                                                     couchdb0
e79c672174fb   couchdb:3.3.2                       "tini -- /docker-ent…"   3 seconds ago   Up 1 second             4369/tcp, 9100/tcp, 0.0.0.0:7984->5984/tcp, :::7984->5984/tcp                                                                     couchdb1
88ef72a0acae   hyperledger/fabric-orderer:latest   "orderer"                3 seconds ago   Up 1 second             0.0.0.0:7050->7050/tcp, :::7050->7050/tcp, 0.0.0.0:7053->7053/tcp, :::7053->7053/tcp, 0.0.0.0:9443->9443/tcp, :::9443->9443/tcp   orderer.example.com
30d98d6934e8   hyperledger/fabric-ca:latest        "sh -c 'fabric-ca-se…"   9 seconds ago   Up 8 seconds            0.0.0.0:7054->7054/tcp, :::7054->7054/tcp, 0.0.0.0:17054->17054/tcp, :::17054->17054/tcp                                          ca_org1
21e8f1bd7c5f   hyperledger/fabric-ca:latest        "sh -c 'fabric-ca-se…"   9 seconds ago   Up 7 seconds            0.0.0.0:9054->9054/tcp, :::9054->9054/tcp, 7054/tcp, 0.0.0.0:19054->19054/tcp, :::19054->19054/tcp                                ca_orderer
2c91aae08049   hyperledger/fabric-ca:latest        "sh -c 'fabric-ca-se…"   9 seconds ago   Up 8 seconds            0.0.0.0:8054->8054/tcp, :::8054->8054/tcp, 7054/tcp, 0.0.0.0:18054->18054/tcp, :::18054->18054/tcp                                ca_org2
Using docker and docker-compose
Generating channel genesis block 'mychannel.block'
Using organization 1
/root/go/src/github.com/b43646/fabric-samples/bin/configtxgen
+ '[' 0 -eq 1 ']'
+ configtxgen -profile ChannelUsingRaft -outputBlock ./channel-artifacts/mychannel.block -channelID mychannel
2023-10-25 10:34:57.732 GMT 0001 INFO [common.tools.configtxgen] main -> Loading configuration
2023-10-25 10:34:57.739 GMT 0002 INFO [common.tools.configtxgen.localconfig] completeInitialization -> orderer type: etcdraft
2023-10-25 10:34:57.739 GMT 0003 INFO [common.tools.configtxgen.localconfig] completeInitialization -> Orderer.EtcdRaft.Options unset, setting to tick_interval:"500ms" election_tick:10 heartbeat_tick:1 max_inflight_blocks:5 snapshot_interval_size:16777216
2023-10-25 10:34:57.739 GMT 0004 INFO [common.tools.configtxgen.localconfig] Load -> Loaded configuration: /root/go/src/github.com/b43646/fabric-samples/test-network/configtx/configtx.yaml
2023-10-25 10:34:57.741 GMT 0005 INFO [common.tools.configtxgen] doOutputBlock -> Generating genesis block
2023-10-25 10:34:57.741 GMT 0006 INFO [common.tools.configtxgen] doOutputBlock -> Creating application channel genesis block
2023-10-25 10:34:57.742 GMT 0007 INFO [common.tools.configtxgen] doOutputBlock -> Writing genesis block
+ res=0
Creating channel mychannel
Adding orderers
+ . scripts/orderer.sh mychannel
+ '[' 0 -eq 1 ']'
+ res=0
Status: 201
{
        "name": "mychannel",
        "url": "/participation/v1/channels/mychannel",
        "consensusRelation": "consenter",
        "status": "active",
        "height": 1
}

Channel 'mychannel' created
Joining org1 peer to the channel...
Using organization 1
+ peer channel join -b ./channel-artifacts/mychannel.block
+ res=0
2023-10-25 10:35:03.841 GMT 0001 INFO [channelCmd] InitCmdFactory -> Endorser and orderer connections initialized
2023-10-25 10:35:03.943 GMT 0002 INFO [channelCmd] executeJoin -> Successfully submitted proposal to join channel
Joining org2 peer to the channel...
Using organization 2
+ peer channel join -b ./channel-artifacts/mychannel.block
+ res=0
2023-10-25 10:35:07.002 GMT 0001 INFO [channelCmd] InitCmdFactory -> Endorser and orderer connections initialized
2023-10-25 10:35:07.101 GMT 0002 INFO [channelCmd] executeJoin -> Successfully submitted proposal to join channel
Setting anchor peer for org1...
Using organization 1
Fetching channel config for channel mychannel
Using organization 1
Fetching the most recent configuration block for the channel
+ peer channel fetch config config_block.pb -o orderer.example.com:7050 --ordererTLSHostnameOverride orderer.example.com -c mychannel --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/organizations/ordererOrganizations/example.com/tlsca/tlsca.example.com-cert.pem
2023-10-25 10:35:07.236 UTC 0001 INFO [channelCmd] InitCmdFactory -> Endorser and orderer connections initialized
2023-10-25 10:35:07.239 UTC 0002 INFO [cli.common] readBlock -> Received block: 0
2023-10-25 10:35:07.239 UTC 0003 INFO [channelCmd] fetch -> Retrieving last config block: 0
2023-10-25 10:35:07.240 UTC 0004 INFO [cli.common] readBlock -> Received block: 0
Decoding config block to JSON and isolating config to Org1MSPconfig.json
+ configtxlator proto_decode --input config_block.pb --type common.Block --output config_block.json
+ jq '.data.data[0].payload.data.config' config_block.json
Generating anchor peer update transaction for Org1 on channel mychannel
+ jq '.channel_group.groups.Application.groups.Org1MSP.values += {"AnchorPeers":{"mod_policy": "Admins","value":{"anchor_peers": [{"host": "peer0.org1.example.com","port": 7051}]},"version": "0"}}' Org1MSPconfig.json
+ configtxlator proto_encode --input Org1MSPconfig.json --type common.Config --output original_config.pb
+ configtxlator proto_encode --input Org1MSPmodified_config.json --type common.Config --output modified_config.pb
+ configtxlator compute_update --channel_id mychannel --original original_config.pb --updated modified_config.pb --output config_update.pb
+ configtxlator proto_decode --input config_update.pb --type common.ConfigUpdate --output config_update.json
+ jq .
++ cat config_update.json
+ echo '{"payload":{"header":{"channel_header":{"channel_id":"mychannel", "type":2}},"data":{"config_update":{' '"channel_id":' '"mychannel",' '"isolated_data":' '{},' '"read_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org1MSP":' '{' '"groups":' '{},' '"mod_policy":' '"",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"0"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '},' '"write_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org1MSP":' '{' '"groups":' '{},' '"mod_policy":' '"Admins",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"AnchorPeers":' '{' '"mod_policy":' '"Admins",' '"value":' '{' '"anchor_peers":' '[' '{' '"host":' '"peer0.org1.example.com",' '"port":' 7051 '}' ']' '},' '"version":' '"0"' '},' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '}' '}}}}'
+ configtxlator proto_encode --input config_update_in_envelope.json --type common.Envelope --output Org1MSPanchors.tx
2023-10-25 10:35:07.518 UTC 0001 INFO [channelCmd] InitCmdFactory -> Endorser and orderer connections initialized
2023-10-25 10:35:07.532 UTC 0002 INFO [channelCmd] update -> Successfully submitted channel update
Anchor peer set for org 'Org1MSP' on channel 'mychannel'
Setting anchor peer for org2...
Using organization 2
Fetching channel config for channel mychannel
+ peer channel fetch config config_block.pb -o orderer.example.com:7050 --ordererTLSHostnameOverride orderer.example.com -c mychannel --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/organizations/ordererOrganizations/example.com/tlsca/tlsca.example.com-cert.pem
Using organization 2
Fetching the most recent configuration block for the channel
2023-10-25 10:35:07.673 UTC 0001 INFO [channelCmd] InitCmdFactory -> Endorser and orderer connections initialized
2023-10-25 10:35:07.675 UTC 0002 INFO [cli.common] readBlock -> Received block: 1
2023-10-25 10:35:07.676 UTC 0003 INFO [channelCmd] fetch -> Retrieving last config block: 1
2023-10-25 10:35:07.677 UTC 0004 INFO [cli.common] readBlock -> Received block: 1
Decoding config block to JSON and isolating config to Org2MSPconfig.json
+ configtxlator proto_decode --input config_block.pb --type common.Block --output config_block.json
+ jq '.data.data[0].payload.data.config' config_block.json
Generating anchor peer update transaction for Org2 on channel mychannel
+ jq '.channel_group.groups.Application.groups.Org2MSP.values += {"AnchorPeers":{"mod_policy": "Admins","value":{"anchor_peers": [{"host": "peer0.org2.example.com","port": 9051}]},"version": "0"}}' Org2MSPconfig.json
+ configtxlator proto_encode --input Org2MSPconfig.json --type common.Config --output original_config.pb
+ configtxlator proto_encode --input Org2MSPmodified_config.json --type common.Config --output modified_config.pb
+ configtxlator compute_update --channel_id mychannel --original original_config.pb --updated modified_config.pb --output config_update.pb
+ configtxlator proto_decode --input config_update.pb --type common.ConfigUpdate --output config_update.json
+ jq .
++ cat config_update.json
+ echo '{"payload":{"header":{"channel_header":{"channel_id":"mychannel", "type":2}},"data":{"config_update":{' '"channel_id":' '"mychannel",' '"isolated_data":' '{},' '"read_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org2MSP":' '{' '"groups":' '{},' '"mod_policy":' '"",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"0"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '},' '"write_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org2MSP":' '{' '"groups":' '{},' '"mod_policy":' '"Admins",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"AnchorPeers":' '{' '"mod_policy":' '"Admins",' '"value":' '{' '"anchor_peers":' '[' '{' '"host":' '"peer0.org2.example.com",' '"port":' 9051 '}' ']' '},' '"version":' '"0"' '},' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '}' '}}}}'
+ configtxlator proto_encode --input config_update_in_envelope.json --type common.Envelope --output Org2MSPanchors.tx
2023-10-25 10:35:07.965 UTC 0001 INFO [channelCmd] InitCmdFactory -> Endorser and orderer connections initialized
2023-10-25 10:35:07.979 UTC 0002 INFO [channelCmd] update -> Successfully submitted channel update
Anchor peer set for org 'Org2MSP' on channel 'mychannel'
Channel 'mychannel' joined
[root@hy test-network]# ./network.sh deployCC -ccn private -ccp ../asset-transfer-private-data/chaincode-go/ -ccl go -ccep "OR('Org1MSP.peer','Org2MSP.peer')" -cccg ../asset-transfer-private-data/chaincode-go/collections_config.json
Using docker and docker-compose
deploying chaincode on channel 'mychannel'
executing with the following
- CHANNEL_NAME: mychannel
- CC_NAME: private
- CC_SRC_PATH: ../asset-transfer-private-data/chaincode-go/
- CC_SRC_LANGUAGE: go
- CC_VERSION: 1.0.1
- CC_SEQUENCE: auto
- CC_END_POLICY: OR('Org1MSP.peer','Org2MSP.peer')
- CC_COLL_CONFIG: ../asset-transfer-private-data/chaincode-go/collections_config.json
- CC_INIT_FCN: NA
- DELAY: 3
- MAX_RETRY: 5
- VERBOSE: false
executing with the following
- CC_NAME: private
- CC_SRC_PATH: ../asset-transfer-private-data/chaincode-go/
- CC_SRC_LANGUAGE: go
- CC_VERSION: 1.0.1
Vendoring Go dependencies at ../asset-transfer-private-data/chaincode-go/
~/go/src/github.com/b43646/fabric-samples/asset-transfer-private-data/chaincode-go ~/go/src/github.com/b43646/fabric-samples/test-network
~/go/src/github.com/b43646/fabric-samples/test-network
Finished vendoring Go dependencies
+ '[' false = true ']'
+ peer lifecycle chaincode package private.tar.gz --path ../asset-transfer-private-data/chaincode-go/ --lang golang --label private_1.0.1
+ res=0
Chaincode is packaged
Installing chaincode on peer0.org1...
Using organization 1
+ peer lifecycle chaincode queryinstalled --output json
+ jq -r 'try (.installed_chaincodes[].package_id)'
+ grep '^private_1.0.1:205a9cab99b1c3ad03282e8db2635eed4685dc18db03a25e3744eddeff1f3a05$'
+ test 1 -ne 0
+ peer lifecycle chaincode install private.tar.gz
+ res=0
2023-10-25 10:36:18.164 GMT 0001 INFO [cli.lifecycle.chaincode] submitInstallProposal -> Installed remotely: response:<status:200 payload:"\nNprivate_1.0.1:205a9cab99b1c3ad03282e8db2635eed4685dc18db03a25e3744eddeff1f3a05\022\rprivate_1.0.1" >
2023-10-25 10:36:18.164 GMT 0002 INFO [cli.lifecycle.chaincode] submitInstallProposal -> Chaincode code package identifier: private_1.0.1:205a9cab99b1c3ad03282e8db2635eed4685dc18db03a25e3744eddeff1f3a05
Chaincode is installed on peer0.org1
Install chaincode on peer0.org2...
Using organization 2
+ peer lifecycle chaincode queryinstalled --output json
+ jq -r 'try (.installed_chaincodes[].package_id)'
+ grep '^private_1.0.1:205a9cab99b1c3ad03282e8db2635eed4685dc18db03a25e3744eddeff1f3a05$'
+ test 1 -ne 0
+ peer lifecycle chaincode install private.tar.gz
+ res=0
2023-10-25 10:36:44.162 GMT 0001 INFO [cli.lifecycle.chaincode] submitInstallProposal -> Installed remotely: response:<status:200 payload:"\nNprivate_1.0.1:205a9cab99b1c3ad03282e8db2635eed4685dc18db03a25e3744eddeff1f3a05\022\rprivate_1.0.1" >
2023-10-25 10:36:44.163 GMT 0002 INFO [cli.lifecycle.chaincode] submitInstallProposal -> Chaincode code package identifier: private_1.0.1:205a9cab99b1c3ad03282e8db2635eed4685dc18db03a25e3744eddeff1f3a05
Chaincode is installed on peer0.org2
++ peer lifecycle chaincode querycommitted --channelID mychannel --name private
++ sed -n '/Version:/{s/.*Sequence: //; s/, Endorsement Plugin:.*$//; p;}'
Error: query failed with status: 404 - namespace private is not defined
+ COMMITTED_CC_SEQUENCE=
+ res=0
Using organization 1
+ peer lifecycle chaincode queryinstalled --output json
+ jq -r 'try (.installed_chaincodes[].package_id)'
+ grep '^private_1.0.1:205a9cab99b1c3ad03282e8db2635eed4685dc18db03a25e3744eddeff1f3a05$'
+ res=0
private_1.0.1:205a9cab99b1c3ad03282e8db2635eed4685dc18db03a25e3744eddeff1f3a05
Query installed successful on peer0.org1 on channel
Using organization 1
+ peer lifecycle chaincode approveformyorg -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/tlsca/tlsca.example.com-cert.pem --channelID mychannel --name private --version 1.0.1 --package-id private_1.0.1:205a9cab99b1c3ad03282e8db2635eed4685dc18db03a25e3744eddeff1f3a05 --sequence 1 --signature-policy 'OR('\''Org1MSP.peer'\'','\''Org2MSP.peer'\'')' --collections-config ../asset-transfer-private-data/chaincode-go/collections_config.json
+ res=0
2023-10-25 10:36:46.481 GMT 0001 INFO [chaincodeCmd] ClientWait -> txid [eb5e654aad13fc04154c9c4ec9d0a5511a81822b1dbe2067c1ae3d0ec842d58f] committed with status (VALID) at localhost:7051
Chaincode definition approved on peer0.org1 on channel 'mychannel'
Using organization 1
Checking the commit readiness of the chaincode definition on peer0.org1 on channel 'mychannel'...
Attempting to check the commit readiness of the chaincode definition on peer0.org1, Retry after 3 seconds.
+ peer lifecycle chaincode checkcommitreadiness --channelID mychannel --name private --version 1.0.1 --sequence 1 --signature-policy 'OR('\''Org1MSP.peer'\'','\''Org2MSP.peer'\'')' --collections-config ../asset-transfer-private-data/chaincode-go/collections_config.json --output json
+ res=0
{
        "approvals": {
                "Org1MSP": true,
                "Org2MSP": false
        }
}
Checking the commit readiness of the chaincode definition successful on peer0.org1 on channel 'mychannel'
Using organization 2
Checking the commit readiness of the chaincode definition on peer0.org2 on channel 'mychannel'...
Attempting to check the commit readiness of the chaincode definition on peer0.org2, Retry after 3 seconds.
+ peer lifecycle chaincode checkcommitreadiness --channelID mychannel --name private --version 1.0.1 --sequence 1 --signature-policy 'OR('\''Org1MSP.peer'\'','\''Org2MSP.peer'\'')' --collections-config ../asset-transfer-private-data/chaincode-go/collections_config.json --output json
+ res=0
{
        "approvals": {
                "Org1MSP": true,
                "Org2MSP": false
        }
}
Checking the commit readiness of the chaincode definition successful on peer0.org2 on channel 'mychannel'
Using organization 2
+ peer lifecycle chaincode approveformyorg -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/tlsca/tlsca.example.com-cert.pem --channelID mychannel --name private --version 1.0.1 --package-id private_1.0.1:205a9cab99b1c3ad03282e8db2635eed4685dc18db03a25e3744eddeff1f3a05 --sequence 1 --signature-policy 'OR('\''Org1MSP.peer'\'','\''Org2MSP.peer'\'')' --collections-config ../asset-transfer-private-data/chaincode-go/collections_config.json
+ res=0
2023-10-25 10:36:54.830 GMT 0001 INFO [chaincodeCmd] ClientWait -> txid [8100de0c24af7295bacdcda064f35ae47e4f702591c04d08061a190f356b0ad0] committed with status (VALID) at localhost:9051
Chaincode definition approved on peer0.org2 on channel 'mychannel'
Using organization 1
Checking the commit readiness of the chaincode definition on peer0.org1 on channel 'mychannel'...
Attempting to check the commit readiness of the chaincode definition on peer0.org1, Retry after 3 seconds.
+ peer lifecycle chaincode checkcommitreadiness --channelID mychannel --name private --version 1.0.1 --sequence 1 --signature-policy 'OR('\''Org1MSP.peer'\'','\''Org2MSP.peer'\'')' --collections-config ../asset-transfer-private-data/chaincode-go/collections_config.json --output json
+ res=0
{
        "approvals": {
                "Org1MSP": true,
                "Org2MSP": true
        }
}
Checking the commit readiness of the chaincode definition successful on peer0.org1 on channel 'mychannel'
Using organization 2
Checking the commit readiness of the chaincode definition on peer0.org2 on channel 'mychannel'...
Attempting to check the commit readiness of the chaincode definition on peer0.org2, Retry after 3 seconds.
+ peer lifecycle chaincode checkcommitreadiness --channelID mychannel --name private --version 1.0.1 --sequence 1 --signature-policy 'OR('\''Org1MSP.peer'\'','\''Org2MSP.peer'\'')' --collections-config ../asset-transfer-private-data/chaincode-go/collections_config.json --output json
+ res=0
{
        "approvals": {
                "Org1MSP": true,
                "Org2MSP": true
        }
}
Checking the commit readiness of the chaincode definition successful on peer0.org2 on channel 'mychannel'
Using organization 1
Using organization 2
+ peer lifecycle chaincode commit -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/ordererOrganizations/example.com/tlsca/tlsca.example.com-cert.pem --channelID mychannel --name private --peerAddresses localhost:7051 --tlsRootCertFiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/tlsca/tlsca.org1.example.com-cert.pem --peerAddresses localhost:9051 --tlsRootCertFiles /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/tlsca/tlsca.org2.example.com-cert.pem --version 1.0.1 --sequence 1 --signature-policy 'OR('\''Org1MSP.peer'\'','\''Org2MSP.peer'\'')' --collections-config ../asset-transfer-private-data/chaincode-go/collections_config.json
+ res=0
2023-10-25 10:37:03.376 GMT 0001 INFO [chaincodeCmd] ClientWait -> txid [3153ad3ed721c01526dd7a836f94f02812df22b1567a5714e19f05a8eaca6566] committed with status (VALID) at localhost:7051
2023-10-25 10:37:03.714 GMT 0002 INFO [chaincodeCmd] ClientWait -> txid [3153ad3ed721c01526dd7a836f94f02812df22b1567a5714e19f05a8eaca6566] committed with status (VALID) at localhost:9051
Chaincode definition committed on channel 'mychannel'
Using organization 1
Querying chaincode definition on peer0.org1 on channel 'mychannel'...
Attempting to Query committed status on peer0.org1, Retry after 3 seconds.
+ peer lifecycle chaincode querycommitted --channelID mychannel --name private
+ res=0
Committed chaincode definition for chaincode 'private' on channel 'mychannel':
Version: 1.0.1, Sequence: 1, Endorsement Plugin: escc, Validation Plugin: vscc, Approvals: [Org1MSP: true, Org2MSP: true]
Query chaincode definition successful on peer0.org1 on channel 'mychannel'
Using organization 2
Querying chaincode definition on peer0.org2 on channel 'mychannel'...
Attempting to Query committed status on peer0.org2, Retry after 3 seconds.
+ peer lifecycle chaincode querycommitted --channelID mychannel --name private
+ res=0
Committed chaincode definition for chaincode 'private' on channel 'mychannel':
Version: 1.0.1, Sequence: 1, Endorsement Plugin: escc, Validation Plugin: vscc, Approvals: [Org1MSP: true, Org2MSP: true]
Query chaincode definition successful on peer0.org2 on channel 'mychannel'
Chaincode initialization is not required
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# peer lifecycle chaincode checkcommitreadiness --channelID mychannel --name private --version 1.0.1 --sequence 1 --signature-policy 'OR('\''Org1MSP.peer'\'','\''Org2MSP.peer'\'')' --collections-config ../asset-transfer-private-data/chaincode-go/collections_config.json --output json
Error: query failed with status: 500 - failed to invoke backing implementation of 'CheckCommitReadiness': requested sequence is 1, but new definition must be sequence 2
[root@hy test-network]#
[root@hy test-network]# peer lifecycle chaincode checkcommitreadiness --channelID mychannel --name private --version 1.0.1 --sequence 1 --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" --output json
Error: query failed with status: 500 - failed to invoke backing implementation of 'CheckCommitReadiness': requested sequence is 1, but new definition must be sequence 2
[root@hy test-network]# peer lifecycle chaincode querycommitted --channelID mychannel --name private
Committed chaincode definition for chaincode 'private' on channel 'mychannel':
Version: 1.0.1, Sequence: 1, Endorsement Plugin: escc, Validation Plugin: vscc, Approvals: [Org1MSP: true, Org2MSP: true]
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# export PATH=${PWD}/../bin:${PWD}:$PATH
[root@hy test-network]# export FABRIC_CFG_PATH=$PWD/../config/
[root@hy test-network]# export FABRIC_CA_CLIENT_HOME=${PWD}/organizations/peerOrganizations/org1.example.com/
[root@hy test-network]# fabric-ca-client register --caname ca-org1 --id.name owner --id.secret ownerpw --id.type client --tls.certfiles "${PWD}/organizations/fabric-ca/org1/tls-cert.pem"
2023/10/25 10:43:25 [INFO] Configuration file location: /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2023/10/25 10:43:25 [INFO] TLS Enabled
2023/10/25 10:43:25 [INFO] TLS Enabled
Password: ownerpw
[root@hy test-network]# fabric-ca-client enroll -u https://owner:ownerpw@localhost:7054 --caname ca-org1 -M "${PWD}/organizations/peerOrganizations/org1.example.com/users/owner@org1.example.com/msp" --tls.certfiles "${PWD}/organizations/fabric-ca/org1/tls-cert.pem"
2023/10/25 10:43:49 [INFO] TLS Enabled
2023/10/25 10:43:49 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:43:49 [INFO] encoded CSR
2023/10/25 10:43:49 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/owner@org1.example.com/msp/signcerts/cert.pem
2023/10/25 10:43:49 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/owner@org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2023/10/25 10:43:49 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/owner@org1.example.com/msp/IssuerPublicKey
2023/10/25 10:43:49 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/owner@org1.example.com/msp/IssuerRevocationPublicKey
[root@hy test-network]# cp "${PWD}/organizations/peerOrganizations/org1.example.com/msp/config.yaml" "${PWD}/organizations/peerOrganizations/org1.example.com/users/owner@org1.example.com/msp/config.yaml"
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# export FABRIC_CA_CLIENT_HOME=${PWD}/organizations/peerOrganizations/org2.example.com/
[root@hy test-network]# fabric-ca-client register --caname ca-org2 --id.name buyer --id.secret buyerpw --id.type client --tls.certfiles "${PWD}/organizations/fabric-ca/org2/tls-cert.pem"
2023/10/25 10:45:05 [INFO] Configuration file location: /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2023/10/25 10:45:05 [INFO] TLS Enabled
2023/10/25 10:45:05 [INFO] TLS Enabled
Password: buyerpw
[root@hy test-network]# fabric-ca-client enroll -u https://buyer:buyerpw@localhost:8054 --caname ca-org2 -M "${PWD}/organizations/peerOrganizations/org2.example.com/users/buyer@org2.example.com/msp" --tls.certfiles "${PWD}/organizations/fabric-ca/org2/tls-cert.pem"
2023/10/25 10:45:17 [INFO] TLS Enabled
2023/10/25 10:45:17 [INFO] generating key: &{A:ecdsa S:256}
2023/10/25 10:45:17 [INFO] encoded CSR
2023/10/25 10:45:17 [INFO] Stored client certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/buyer@org2.example.com/msp/signcerts/cert.pem
2023/10/25 10:45:17 [INFO] Stored root CA certificate at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/buyer@org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2023/10/25 10:45:17 [INFO] Stored Issuer public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/buyer@org2.example.com/msp/IssuerPublicKey
2023/10/25 10:45:17 [INFO] Stored Issuer revocation public key at /root/go/src/github.com/b43646/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/buyer@org2.example.com/msp/IssuerRevocationPublicKey
[root@hy test-network]# cp "${PWD}/organizations/peerOrganizations/org2.example.com/msp/config.yaml" "${PWD}/organizations/peerOrganizations/org2.example.com/users/buyer@org2.example.com/msp/config.yaml"
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# export PATH=${PWD}/../bin:$PATH
[root@hy test-network]# export FABRIC_CFG_PATH=$PWD/../config/
[root@hy test-network]# export CORE_PEER_TLS_ENABLED=true
[root@hy test-network]# export CORE_PEER_LOCALMSPID="Org1MSP"
[root@hy test-network]# export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
[root@hy test-network]# export CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org1.example.com/users/owner@org1.example.com/msp
[root@hy test-network]# export CORE_PEER_ADDRESS=localhost:7051
[root@hy test-network]#
[root@hy test-network]# export ASSET_PROPERTIES=$(echo -n "{\"objectType\":\"asset\",\"assetID\":\"asset1\",\"color\":\"green\",\"size\":20,\"appraisedValue\":100}" | base64 | tr -d \\n)
[root@hy test-network]# peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"CreateAsset","Args":[]}' --transient "{\"asset_properties\":\"$ASSET_PROPERTIES\"}"
2023-10-25 10:46:12.154 GMT 0001 INFO [chaincodeCmd] chaincodeInvokeOrQuery -> Chaincode invoke successful. result: status:200
[root@hy test-network]#
[root@hy test-network]# peer chaincode query -C mychannel -n private -c '{"function":"ReadAsset","Args":["asset1"]}'
{"objectType":"asset","assetID":"asset1","color":"green","size":20,"owner":"x509::CN=owner,OU=client,O=Hyperledger,ST=North Carolina,C=US::CN=ca.org1.example.com,O=org1.example.com,L=Durham,ST=North Carolina,C=US"}
[root@hy test-network]#
[root@hy test-network]# peer chaincode query -C mychannel -n private -c '{"function":"ReadAssetPrivateDetails","Args":["Org1MSPPrivateCollection","asset1"]}'
{"assetID":"asset1","appraisedValue":100}
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# export CORE_PEER_LOCALMSPID="Org2MSP"
[root@hy test-network]# export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
[root@hy test-network]# export CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org2.example.com/users/buyer@org2.example.com/msp
[root@hy test-network]# export CORE_PEER_ADDRESS=localhost:9051
[root@hy test-network]#
[root@hy test-network]# peer chaincode query -C mychannel -n private -c '{"function":"ReadAsset","Args":["asset1"]}'
{"objectType":"asset","assetID":"asset1","color":"green","size":20,"owner":"x509::CN=owner,OU=client,O=Hyperledger,ST=North Carolina,C=US::CN=ca.org1.example.com,O=org1.example.com,L=Durham,ST=North Carolina,C=US"}
[root@hy test-network]#
[root@hy test-network]# peer chaincode query -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"ReadAssetPrivateDetails","Args":["Org2MSPPrivateCollection","asset1"]}'

[root@hy test-network]# peer chaincode query -C mychannel -n private -c '{"function":"ReadAssetPrivateDetails","Args":["Org1MSPPrivateCollection","asset1"]}'
Error: endorsement failure during query. response: status:500 message:"failed to read asset details: GET_STATE failed: transaction ID: dc0d5ef5cffbdb6b5a28ce114001e96571bc4ffca0022f88c01b0b07081fe4b5: tx creator does not have read access permission on privatedata in chaincodeName:private collectionName: Org1MSPPrivateCollection"
[root@hy test-network]#
[root@hy test-network]# export ASSET_VALUE=$(echo -n "{\"assetID\":\"asset1\",\"appraisedValue\":100}" | base64 | tr -d \\n)
[root@hy test-network]# peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"AgreeToTransfer","Args":[]}' --transient "{\"asset_value\":\"$ASSET_VALUE\"}"
2023-10-25 10:53:48.800 GMT 0001 INFO [chaincodeCmd] chaincodeInvokeOrQuery -> Chaincode invoke successful. result: status:200
[root@hy test-network]#
[root@hy test-network]# peer chaincode query -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"ReadAssetPrivateDetails","Args":["Org2MSPPrivateCollection","asset1"]}'
{"assetID":"asset1","appraisedValue":100}
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# export CORE_PEER_LOCALMSPID="Org1MSP"
export CORE_PEER_ADDRESS=localhost:7051[root@hy test-network]# export CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org1.example.com/users/owner@org1.example.com/msp
[root@hy test-network]# export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
[root@hy test-network]# export CORE_PEER_ADDRESS=localhost:7051
[root@hy test-network]#
[root@hy test-network]# peer chaincode query -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"ReadTransferAgreement","Args":["asset1"]}'
{"assetID":"asset1","buyerID":"x509::CN=buyer,OU=client,O=Hyperledger,ST=North Carolina,C=US::CN=ca.org2.example.com,O=org2.example.com,L=Hursley,ST=Hampshire,C=UK"}
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# export ASSET_OWNER=$(echo -n "{\"assetID\":\"asset1\",\"buyerMSP\":\"Org2MSP\"}" | base64 | tr -d \\n)
peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"TransferAsset","Args":[]}' --transient "{\"asset_owner\":\"$ASSET_OWNER\"}" --peerAddresses localhost:7051 --tlsRootCertFiles "${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt"[root@hy test-network]# peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com dererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"TransferAsset","Args":[]}' --transient "{\"asset_owner\":\"$ASSET_OWNER\"}" --peerAddresses localhost:7051 --tlsRootCertFiles "${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt"
2023-10-25 10:57:20.429 GMT 0001 INFO [chaincodeCmd] chaincodeInvokeOrQuery -> Chaincode invoke successful. result: status:200
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# peer chaincode query -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"ReadAsset","Args":["asset1"]}'
{"objectType":"asset","assetID":"asset1","color":"green","size":20,"owner":"x509::CN=buyer,OU=client,O=Hyperledger,ST=North Carolina,C=US::CN=ca.org2.example.com,O=org2.example.com,L=Hursley,ST=Hampshire,C=UK"}
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# peer chaincode query -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"ReadAssetPrivateDetails","Args":["Org1MSPPrivateCollection","asset1"]}'

[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# export CORE_PEER_LOCALMSPID="Org2MSP"
[root@hy test-network]# export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
[root@hy test-network]# export CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org2.example.com/users/buyer@org2.example.com/msp
[root@hy test-network]# export CORE_PEER_ADDRESS=localhost:9051
[root@hy test-network]#
[root@hy test-network]# peer chaincode query -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"ReadAssetPrivateDetails","Args":["Org2MSPPrivateCollection","asset1"]}'
{"assetID":"asset1","appraisedValue":100}
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# export ASSET_PROPERTIES=$(echo -n "{\"objectType\":\"asset\",\"assetID\":\"asset2\",\"color\":\"blue\",\"size\":30,\"appraisedValue\":100}" | base64 | tr -d \\n)
[root@hy test-network]# peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"CreateAsset","Args":[]}' --transient "{\"asset_properties\":\"$ASSET_PROPERTIES\"}"
2023-10-25 11:02:48.575 GMT 0001 INFO [chaincodeCmd] chaincodeInvokeOrQuery -> Chaincode invoke successful. result: status:200
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# export ASSET_PROPERTIES=$(echo -n "{\"objectType\":\"asset\",\"assetID\":\"asset3\",\"color\":\"red\",\"size\":25,\"appraisedValue\":100}" | base64 | tr -d \\n)
[root@hy test-network]# peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"CreateAsset","Args":[]}' --transient "{\"asset_properties\":\"$ASSET_PROPERTIES\"}"
2023-10-25 11:03:14.672 GMT 0001 INFO [chaincodeCmd] chaincodeInvokeOrQuery -> Chaincode invoke successful. result: status:200
[root@hy test-network]#
[root@hy test-network]#
[root@hy test-network]# export ASSET_PROPERTIES=$(echo -n "{\"objectType\":\"asset\",\"assetID\":\"asset4\",\"color\":\"orange\",\"size\":15,\"appraisedValue\":100}" | base64 | tr -d \\n)
[root@hy test-network]# peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"CreateAsset","Args":[]}' --transient "{\"asset_properties\":\"$ASSET_PROPERTIES\"}"
2023-10-25 11:03:40.820 GMT 0001 INFO [chaincodeCmd] chaincodeInvokeOrQuery -> Chaincode invoke successful. result: status:200
[root@hy test-network]#
[root@hy test-network]# peer chaincode query -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n private -c '{"function":"ReadAssetPrivateDetails","Args":["Org2MSPPrivateCollection","asset1"]}'

[root@hy test-network]#


```
